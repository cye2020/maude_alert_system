# config/sidebar.yaml
common:
  header:
    logo: "dashboard/assets/logo.png"
    project_info:
      version: "v1.0.0"
      update_date: "2025-12-24"
      environment: "Development"

  date_selector:
    enabled: false  # ê³µí†µ ë‚ ì§œ ì„ íƒê¸° ë¹„í™œì„±í™”

  # ê³µí†µ í•„í„° (ëª¨ë“  íƒ­ì—ì„œ ì‚¬ìš©)
  filters: []  # ê³µí†µ í•„í„° ëª¨ë‘ ë¹„í™œì„±í™”

dashboards:
  overview:
    filters:
      - type: "month_range_picker"
        key: "date_range"
        label: "ğŸ“… ë¶„ì„ ê¸°ê°„"
        args:
          default_start: "2023-01"
          default_end: "2025-12"
          
      - type: "selectbox"
        key: "segment"
        label: "ë¶„ì„ ê¸°ì¤€"
        args:
          options:
            - label: "ì „ì²´"
              value: null
            - label: "ì œì¡°ì‚¬"
              value: "manufacturer_name"
            - label: "ì œí’ˆêµ°"
              value: "product_code"
            - label: "ê¸°ê¸°"
              value: "udi_di"
            - label: "í´ëŸ¬ìŠ¤í„°"
              value: "cluster"
            - label: "ê²°í•¨ ìœ í˜•"
              value: "defect_type"
          index: 0

  eda:
    filters:
      - type: "multiselect"
        key: "categories"
        label: "ë¶„ì„ ì¹´í…Œê³ ë¦¬"
        args:
          options: ["ë§¤ì¶œ", "ë¹„ìš©", "ìˆ˜ìµ"]
          default: ["ë§¤ì¶œ"]

      - type: "slider"
        key: "confidence_interval"
        label: "ì‹ ë¢°êµ¬ê°„"
        args:
          min_value: 0.8
          max_value: 0.99
          value: 0.95
          step: 0.01
          format: "%.2f"
        caption: "{value:.0%}"

  cluster:
    filters:
      - type: "month_range_picker"
        key: "date_range"
        label: "ğŸ“… ë¶„ì„ ê¸°ê°„"
        args:
          default_start: "2023-01"
          default_end: "2025-12"

      - type: "selectbox"
        key: "selected_cluster"
        label: "ğŸ”¢ í´ëŸ¬ìŠ¤í„° ì„ íƒ"
        args:
          options: []  # cluster_tab.pyì—ì„œ ë™ì ìœ¼ë¡œ ì±„ì›€
          index: 0
          format_func: "Cluster {value}"

      - type: "number_input"
        key: "top_n"
        label: "ğŸ“Š ìƒìœ„ ë¶€í’ˆ ê°œìˆ˜"
        args:
          min_value: 5
          max_value: 50
          value: 10
          step: 5
        caption: "ìƒìœ„ {value}ê°œ"

  spike:
    filters:
      # === ê¸°ë³¸ ì„¤ì • ===
      - type: "date_selector"
        key: "as_of_month"
        label: "ğŸ“… ë¶„ì„ ê¸°ì¤€ ì›”"
        args:
          default_month: "2025-11"
        caption: "ê¸°ì¤€: {value}"

      - type: "selectbox"
        key: "window"
        label: "ğŸ“Š ë¹„êµ ìœˆë„ìš°"
        args:
          options:
            - label: "1ê°œì›” (ê¸°ì¤€ì›” vs ì „ì›”)"
              value: 1
            - label: "3ê°œì›” (ìµœê·¼ 3ê°œì›” vs ì§ì „ 3ê°œì›”)"
              value: 3
          index: 0

      # === ìŠ¤íŒŒì´í¬ íƒì§€ ì„ê³„ê°’ ===
      - type: "number_input"
        key: "min_c_recent"
        label: "ğŸ“ˆ ìµœì†Œ ì¼€ì´ìŠ¤ ìˆ˜"
        args:
          min_value: 5
          max_value: 100
          value: 20
          step: 5
        caption: "ìµœê·¼ ê¸°ê°„ {value}ê±´ ì´ìƒ"

      - type: "number_input"
        key: "z_threshold"
        label: "ğŸ“‰ Z-score ì„ê³„ê°’"
        args:
          min_value: 1.0
          max_value: 5.0
          value: 2.0
          step: 0.5
          format: "%.1f"
        caption: "Z â‰¥ {value}Ïƒ"

      # === ê³ ê¸‰ ì„¤ì • ===
      - type: "number_input"
        key: "eps"
        label: "ğŸ”¢ Epsilon"
        args:
          min_value: 0.01
          max_value: 1.0
          value: 0.1
          step: 0.05
          format: "%.2f"
        caption: "ë¡œê·¸ ë³€í™˜ìš© ìƒìˆ˜"

      - type: "selectbox"
        key: "alpha"
        label: "âš¡ ìœ ì˜ìˆ˜ì¤€"
        args:
          options: [0.05, 0.01, 0.001]
          index: 0
          format_func: "{value:.3f}"
        caption: "Î± = {value} (Poisson ê²€ì •)"

      - type: "selectbox"
        key: "correction"
        label: "ğŸ”§ ë‹¤ì¤‘ê²€ì • ë³´ì •"
        args:
          options:
            - label: "FDR (Benjamini-Hochberg)"
              value: "fdr_bh"
            - label: "Bonferroni"
              value: "bonferroni"
            - label: "Sidak"
              value: "sidak"
          index: 0

      - type: "number_input"
        key: "min_methods"
        label: "ğŸ¯ ì•™ìƒë¸” ìµœì†Œ ë°©ë²• ìˆ˜"
        args:
          min_value: 1
          max_value: 3
          value: 2
          step: 1
        caption: "{value}ê°œ ì´ìƒ (Ratio/Z-score/Poisson)"